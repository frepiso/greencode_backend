{
  "$schema": "https://turborepo.org/schema.json",
  "globalDependencies": ["**/.env", "NODE_ENV"],
  "globalEnv": [],
  "tasks": {    
    "dev": {
      "cache": false,
      "persistent": true
    },
    "dev-storybook": {
      "persistent": true,
      "cache": false
    },
    "build": {
      "dependsOn": ["^build"],
      "outputs": ["dist/**"]
    },
    "build-storybook": {
      "dependsOn": ["^build"],
      "outputs": ["dist/**"]
    },
    "start": {
      "dependsOn": ["build"]
    },
    "start-storybook": {
      "dependsOn": ["build"]
    },
    "lint": {
      "outputs": []
    },
    "test": {
      "dependsOn": ["build"],
      "outputs": ["coverage/**"],
      "inputs": ["src/**/*.tsx", "src/**/*.ts", "__test__/**/*.ts", "__test__/**/*.tsx"]
    },
    "test-coverage": {
      "dependsOn": ["build"],
      "outputs": ["coverage/**"],
      "inputs": ["src/**/*.tsx", "src/**/*.ts", "__test__/**/*.ts", "__test__/**/*.tsx"]
    },     
    "clean": {
      "cache": false
    },
    "deploy": {
      "dependsOn": ["build", "test", "lint"],
      "outputs": []
    },
    "API-GATEWAY#build": {
      "dependsOn": ["^build"],
      "outputs": ["dist/**"],
      "env": [ "PORT", "NAME", "ENVIRONMENT", "LOG_LEVEL", "NODE_ENV" ]
    },
    "API-AUTH#build": {
      "dependsOn": ["^build"],
      "outputs": ["dist/**"],
      "env": [ "PORT", "NAME", "ENVIRONMENT", "LOG_LEVEL", "NODE_ENV", 
                "JWT_SECRET", "JWT_EXPIRATION", "JWT_ID", "JWT_ENCODER",
                "MONGO_URI", "MONGO_USER", "MONGO_PASS" ]
    }
  }
}
